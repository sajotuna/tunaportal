<!DOCTYPE html>
<html lang="ko"
xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
    data-layout-decorate="~{layouts/eclassProfLayout}">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>E-Class 전체 문의</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" />
  <style>
  table tr td{
	text-overflow : ellipsis;
	overflow : hidden;
	white-space : nowrap;
	max-width : 200px;
}
  
  </style>
  
  
  </head>
  <body>

      <div id="page-overlay"></div>

      <aside id="side-overlay">
        <div class="content-header">
        </div>
        <div class="content-side">
        </div>
      </aside>

      <!--
███████ ██ ██████  ███████     ██████   █████  ██████  
██      ██ ██   ██ ██          ██   ██ ██   ██ ██   ██ 
███████ ██ ██   ██ █████       ██████  ███████ ██████  
     ██ ██ ██   ██ ██          ██   ██ ██   ██ ██   ██ 
███████ ██ ██████  ███████     ██████  ██   ██ ██   ██ 
      -->
      <nav id="sidebar" aria-label="Main Navigation">
        <div class="content-header">

        </div>
        <div class="js-sidebar-scroll">
        </div>
      </nav>
      <!-- SIDE BAR END -->
      
      <!--
██   ██ ███████  █████  ██████  ███████ ██████  
██   ██ ██      ██   ██ ██   ██ ██      ██   ██ 
███████ █████   ███████ ██   ██ █████   ██████  
██   ██ ██      ██   ██ ██   ██ ██      ██   ██ 
██   ██ ███████ ██   ██ ██████  ███████ ██   ██                                     
      -->
      <header id="page-header">
        <div class="content-header">page-header</div>
      </header>
      <!--HEADER END-->

<!--
 ██████  ██████  ███    ██ ████████ ███████ ███    ██ ████████ 
██      ██    ██ ████   ██    ██    ██      ████   ██    ██    
██      ██    ██ ██ ██  ██    ██    █████   ██ ██  ██    ██    
██      ██    ██ ██  ██ ██    ██    ██      ██  ██ ██    ██    
 ██████  ██████  ██   ████    ██    ███████ ██   ████    ██ 
-->
      <main id="main-container" layout:fragment="main">
        <!-- <div class="bg-body-light">
          <div class="content content-full">
            <div class="d-flex flex-column flex-sm-row justify-content-sm-between align-items-sm-center py-2">
              <div class="flex-grow-1">
                <h1 class="h3 fw-bold mb-2">
                  Main
                </h1>
                <h2 class="fs-base lh-base fw-medium text-muted mb-0">
                  제목
                </h2>
              </div>
            </div>
          </div>
        </div> content header END -->

        <div class="content">
				<div class="row">
					<div class="col-12">
						<h3 class="h3 fw-bold mb-2">전체문의</h3>
					</div>
				</div>
           <div class="block block-rounded">
					<div class="block-content block-content-full">
						<div id="DataTables_Table_0_wrapper"
							class="dataTables_wrapper dt-bootstrap5 no-footer">
							<div class="row">
                <div class="col-sm-12" style="height:370px;">
                <table class="js-table-checkable table table-hover table-vcenter text-center table-bordered"> 
                    <tr class="text-center fw-bold bg-dark text-white">
                      <td style="width: 100px" >번호</td>
                      <td >제목</td>
                      <td style="width: 15%" >과목명</td>
                      <td style="width: 20%" >작성자</td>
                      <td style="width: 15%" >작성일자</td>
                    </tr>
                  <th:block th:each = "qna : ${qnaList}">
                   <tbody>
                    <!-- <tr>
                      <th style="width: 100px">번호</th>
                      <th>제목</th>
                      <th style="width: 15%">작성</th>
                      <th style="width: 15%">등록일시</th>
                    </tr> -->
                  
                    <tr onclick="qnaDetail(this)">
                      <td th:text = "${qna.no}"></td>
                      <td class="text-start" th:text = "${qna.title}"></td>
                      <td th:text = "${qna.subjectVO.name}"></td>
                      <td th:text = "${qna.studentVO.name}"></td>
                      <td style="width: 15%" th:text = "${qna.enrollDate}"></td>
                    </tr>
                  </tbody>
                  </th:block>
                </table>
                <nav aria-label="Page navigation">
                  <ul class="pagination pagination-sm justify-content-center">
                    <li class="page-item">
                      <button class="page-link" onclick="javascript:pageBtnClick(this);" style="width:25pt;height:25pt; font-size:16px;">1</button>
                    </li>
                  </ul>
                </nav>
              </div>
</div>

            </div>
            </div> <!-- block end-->

          </div> <!-- col-12 end -->

        </div> <!-- content END -->
		<th:block th:if = "${pageNum != null || pageNum != ''}">
			<script th:inline="javascript">
				let btns = document.querySelectorAll('li > button')
				let pageNum = /*[[${param.pageNum}]]*/
				btns.forEach(btn=>{
					if(btn.innerHTML == pageNum){
						btn.parentElement.setAttribute("class", "page-item active")
					}
				})
				
			</script>
		</th:block>
		<script>
		function pageBtnClick(e){
			location.href = 'qnaList?pageNum='+e.innerHTML;
		}
		
		function qnaDetail(e){
			location.href = 'qna?no='+e.children[0].innerHTML;
		}
		
		</script>
      </main>

<!--
███████  ██████   ██████  ████████ ███████ ██████  
██      ██    ██ ██    ██    ██    ██      ██   ██ 
█████   ██    ██ ██    ██    ██    █████   ██████  
██      ██    ██ ██    ██    ██    ██      ██   ██ 
██       ██████   ██████     ██    ███████ ██   ██ 
-->
      <!-- <footer id="page-footer" class="bg-flat-lighter">
        <div class="content">footer</div>
      </footer> -->
    
  </body>
</html>
