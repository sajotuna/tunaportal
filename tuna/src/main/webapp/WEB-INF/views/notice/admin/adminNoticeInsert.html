<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
	data-layout-decorate="~{layouts/adminLayout}">
<head>
<meta charset="UTF-8">
<link rel="stylesheet"
	th:href="@{/resources/assets/js/plugins/simplemde/simplemde.min.css}">
<title>NoticeInsert</title>
<link rel="stylesheet"
	th:href="@{/resources/assets/js/plugins/sweetalert2/sweetalert2.min.css}">

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>

<body>
	<!--폼 시작-->
	<main layout:fragment="main">
		<div class="content content-boxed">

			<h3 class="fw-bold">학사공지 등록</h3>
			<div class="block block-rounded">
				<form
					th:action="@{/admin/adminNoticeInsert(${_csrf.parameterName}=${_csrf.token})}"
					class="block-content block-content-full" method="post"
					enctype="multipart/form-data">
					<div>
						<input type="text" name="title" class="mb-4 form-control"
							id="title" required placeholder="학사공지 등록">
						<hr>
					<div class="mb-4">
					  <!-- CKEditor 5 Classic Container -->
						<div id="js-ckeditor5-classic">Hello classic CKEditor 5!</div>
					</div>
					</div>
					<hr>
					<div class="row mb-3">
						<div class="col-6">
							<input class="form-control" type="file" id="file" name="file"
								multiple="multiple">
						</div>
						<div class="col-6">
							<select id="visible" name="visible" class="form-select">
								<option value="Y">공개</option>
								<option value="N">비공개</option>
							</select>
						</div>
					</div>
					<div class="d-flex justify-content-end">
						<button type="submit" id="sbmBtn"
							class="btn btn-outline-secondary me-2">등록</button>
						<button type="button" class="btn btn-outline-secondary"
							th:onclick="|location.href='@{/admin/adminNoticeList}'|">홈으로</button>
					</div>

				</form>
			</div>

		</div>

		<script>

   
/*    $('#sbmBtn').on('click', function(){
	   if($("#content").val() =='' ){
			Dialogs.dialog('error', 
	               '', 
	               '내용을 입력해주세요');
			return false;
		}	
   }) */
   </script>



		<!-- Editor script -->
		<script>

		$(function(){
			jsCkeditor5()
		})
		
function jsCkeditor5(){
	 let ckeditor5Full = document.querySelector('#js-ckeditor5-classic');
	    // Init full text editor
	    if (ckeditor5Full) {
	      ClassicEditor
	        .create(document.querySelector('#js-ckeditor5-classic'),
	        		{
						extraPlugins: [uploadAdapterPlugin],
						language:'ko',
						  image: {
						      // Configure the available styles.
						      styles: ["alignLeft", "alignCenter", "alignRight"],      
						      // You need to configure the image toolbar, too, so it shows the new style
						      // buttons as well as the resize buttons.
						      toolbar: [
						        "imageStyle:alignLeft",
						        "imageStyle:alignCenter",
						        "imageStyle:alignRight",
						        "|",
						        "imageTextAlternative",
						      ],
						    },
						  })
						    .then((editor) => {
						      window.ckeditor = editor;
						    })
						    .catch((error) => {
						      console.error("There was a problem initializing the editor.", error);
						    });
	    }
}

  


</script>
		   <script th:src="@{resources/assets/js/plugins/ckeditor5-classic/build/ckeditor.js}"></script>
		<script
			th:src="@{/resources/assets/js/plugins/sweetalert2/sweetalert2.min.js}"></script>
		<script th:src="@{/resources/assets/js/dialog.js}"></script>
	</main>
</body>
</html>