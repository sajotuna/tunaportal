<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
    xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
    xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
    data-layout-decorate="~{layouts/adminLayout}">
<head>
<meta charset="UTF-8">
  <link rel="stylesheet" th:href="@{/resources/assets/js/plugins/simplemde/simplemde.min.css}">
<title>NoticeInsert</title>
<link rel="stylesheet"
	th:href="@{/resources/assets/js/plugins/sweetalert2/sweetalert2.min.css}">
			
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.ckeditor.com/ckeditor5/34.2.0/classic/ckeditor.js"></script>
	<style>
	.ck.ck-editor {
    	max-width: 100%;
	}
	.ck-editor__editable {
	    min-height: 400px;
	}
	</style>
</head>

<body>     
<!--폼 시작-->
<main layout:fragment="main">
            <div class="content content-boxed">

                <h3 class="fw-bold">학사공지 등록</h3>
                <div class="block block-rounded">
                            <form th:action="@{/admin/adminNoticeInsert(${_csrf.parameterName}=${_csrf.token})}" class="block-content block-content-full" method="post" enctype="multipart/form-data">
                            <div>
                                <input type="text" name="title"class="mb-4 form-control" id="title"
                                    required placeholder="학사공지 등록">
                                <hr>
                                
                                <textarea class="ckeditor" style="height:800px" id="content" name="content" placeholder="내용을 입력하세요."></textarea>
                            	
                            </div>
                            <hr>
                            <div class="row mb-3">
                                <div class="col-6">
                                    <input class="form-control" type="file" id="file" name="file" multiple="multiple">
                                </div>
                                <div class="col-6">
                                    <select id="visible" name="visible"class="form-select">
                                        <option value="Y">공개</option>
                                        <option value="N">비공개</option>
                                    </select>
                                </div>
                            </div>
                                <div class="d-flex justify-content-end">
                                    <button type="submit" id="sbmBtn" class="btn btn-outline-secondary me-2">등록</button>
                                    <button type="button" class="btn btn-outline-secondary" th:onclick="|location.href='@{/admin/adminNoticeList}'|">홈으로</button>
                                </div>

                    </form>
                    </div>

            </div>
          
   <script>

   
/*    $('#sbmBtn').on('click', function(){
	   if($("#content").val() =='' ){
			Dialogs.dialog('error', 
	               '', 
	               '내용을 입력해주세요');
			return false;
		}	
   }) */
   
   ClassicEditor
   .create(document.querySelector('#content'))
   .catch(error => {
	   console.log(error)
   })

   

   </script>
    <script
			th:src="@{/resources/assets/js/plugins/sweetalert2/sweetalert2.min.js}"></script>
		<script th:src="@{/resources/assets/js/dialog.js}"></script>
     </main>
</body>
</html>